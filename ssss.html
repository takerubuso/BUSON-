<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ¬æ ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°è¨ºæ–­</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb; /* ä¿¡é ¼æ„Ÿã®ã‚ã‚‹é’ */
            --accent: #f59e0b;  /* ã‚´ãƒ¼ãƒ«ãƒ‰ï¼ˆèª²é‡‘ç”¨ï¼‰ */
            --bg: #f8fafc;
            --text: #334155;
        }
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }
        .container {
            width: 100%;
            max-width: 600px;
            background: white;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            min-height: 100vh;
        }
        
        /* å…±é€šãƒ‘ãƒ¼ãƒ„ */
        h1, h2 { text-align: center; color: #1e293b; }
        .btn {
            display: block;
            width: 100%;
            padding: 16px;
            margin: 20px 0;
            font-size: 16px;
            font-weight: bold;
            color: white;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: 0.2s;
        }
        .btn:active { transform: scale(0.98); }
        .btn-option {
            background: white;
            color: var(--text);
            border: 1px solid #cbd5e1;
            margin: 10px 0;
            text-align: left;
            padding: 15px 20px;
        }
        .btn-option:hover { background: #eff6ff; border-color: var(--primary); }
        
        /* ç”»é¢åˆ¶å¾¡ */
        .screen { display: none; }
        .active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-container { width: 100%; background: #e2e8f0; height: 6px; border-radius: 3px; margin-bottom: 20px; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; border-radius: 3px; }

        /* çµæœç”»é¢ï¼šç„¡æ–™ã‚¨ãƒªã‚¢ */
        .result-header { text-align: center; padding: 20px 0; border-bottom: 2px solid #f1f5f9; }
        .type-code { font-size: 48px; font-weight: 900; color: var(--primary); margin: 0; letter-spacing: 2px; }
        .type-title { font-size: 20px; font-weight: bold; margin-bottom: 10px; }
        .chart-box { position: relative; height: 280px; margin: 20px 0; }

        /* çµæœç”»é¢ï¼šæœ‰æ–™ã‚¨ãƒªã‚¢ï¼ˆãƒ­ãƒƒã‚¯çŠ¶æ…‹ï¼‰ */
        .premium-section {
            margin-top: 30px;
            border: 2px solid var(--accent);
            border-radius: 16px;
            overflow: hidden;
            position: relative;
        }
        .premium-header {
            background: var(--accent);
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
        }
        .premium-content {
            padding: 20px;
            background: #fffbeb;
        }
        
        /* ãƒ­ãƒƒã‚¯ã®æ¼”å‡º */
        .locked .premium-content {
            filter: blur(8px); /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã¼ã‹ã™ */
            user-select: none;
            height: 200px; /* é«˜ã•ã‚’å›ºå®š */
            overflow: hidden;
        }
        .lock-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            width: 80%;
            z-index: 10;
            display: none; /* åˆæœŸã¯éè¡¨ç¤ºã€lockedã®æ™‚ã ã‘è¡¨ç¤º */
        }
        .locked .lock-overlay { display: block; }
        
        .btn-unlock {
            background: linear-gradient(45deg, #f59e0b, #d97706);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
            font-size: 18px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è©³ç´° */
        .detail-box { margin-bottom: 20px; }
        .detail-title { font-weight: bold; color: #d97706; border-bottom: 1px solid #fde68a; margin-bottom: 5px; display: inline-block;}
    </style>
</head>
<body>

<div class="container">

    <div id="screen-start" class="screen active">
        <h1>ğŸ§  æœ¬æ ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°è¨ºæ–­</h1>
        <p style="text-align:center; color:#64748b;">30å•ã®è³ªå•ã‹ã‚‰ã€ã‚ãªãŸã®æ·±å±¤å¿ƒç†ã¨æ‰èƒ½ã‚’å¾¹åº•åˆ†æã—ã¾ã™ã€‚</p>
        <div style="text-align:center; margin:30px 0;">
            <img src="https://placehold.co/200x200/e2e8f0/2563eb?text=Analysis" alt="ã‚¤ãƒ¡ãƒ¼ã‚¸" style="border-radius:50%; width:150px;">
        </div>
        <button class="btn" onclick="startQuiz()">è¨ºæ–­ã‚’å§‹ã‚ã‚‹</button>
    </div>

    <div id="screen-quiz" class="screen">
        <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
        <p style="text-align:center; color:#64748b;">Q <span id="q-current">1</span> / <span id="q-total">30</span></p>
        <h2 id="q-text" style="min-height: 3em;">è³ªå•æ–‡</h2>
        <div id="options-area"></div>
    </div>

    <div id="screen-result" class="screen">
        <div class="result-header">
            <p>ã‚ãªãŸã®è¨ºæ–­çµæœ</p>
            <div class="type-code" id="res-code">ESTJ</div>
            <div class="type-title" id="res-name">å³æ ¼ãªç®¡ç†è€…</div>
            <div class="chart-box">
                <canvas id="radarChart"></canvas>
            </div>
            <p id="res-summary" style="text-align:left; line-height:1.6;">ã“ã“ã«ç„¡æ–™ç‰ˆã®æ¦‚è¦ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
        </div>

        <div class="premium-section locked" id="premium-section">
            <div class="premium-header">ğŸ‘‘ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ è©³ç´°åˆ†æ</div>
            
            <div class="lock-overlay">
                <div style="font-size:40px; margin-bottom:10px;">ğŸ”’</div>
                <p style="font-weight:bold; color:#333;">ã“ã“ã‹ã‚‰å…ˆã¯æœ‰æ–™ãƒ¬ãƒãƒ¼ãƒˆã§ã™</p>
                <p style="font-size:14px; color:#666;">é©è·ã€æ‹æ„›å‚¾å‘ã€éš ã•ã‚ŒãŸæ‰èƒ½ãªã©<br>3,000æ–‡å­—ä»¥ä¸Šã®è©³ç´°ãªåˆ†æã‚’è§£é™¤</p>
                <button class="btn btn-unlock" onclick="unlockPremium()">å®Œå…¨ç‰ˆã‚’è§£é™¤ã™ã‚‹ (Â¥500)</button>
            </div>

            <div class="premium-content">
                <div class="detail-box">
                    <div class="detail-title">ğŸ’¼ æ‰èƒ½ã¨é©è·</div>
                    <p id="res-work">ã“ã“ã«ä»•äº‹ã«é–¢ã™ã‚‹è©³ç´°ãªåˆ†æãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                </div>
                <div class="detail-box">
                    <div class="detail-title">ğŸ’˜ æ‹æ„›ã¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—</div>
                    <p id="res-love">ã“ã“ã«æ‹æ„›ã«é–¢ã™ã‚‹è©³ç´°ãªåˆ†æãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                </div>
                <div class="detail-box">
                    <div class="detail-title">âš ï¸ é™¥ã‚Šã‚„ã™ã„ç½ ï¼ˆå¼±ç‚¹ï¼‰</div>
                    <p id="res-weak">ã“ã“ã«å¼±ç‚¹ã«é–¢ã™ã‚‹è©³ç´°ãªåˆ†æãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                </div>
                <div class="detail-box">
                    <div class="detail-title">ğŸš€ æˆé•·ã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</div>
                    <p id="res-advice">ã“ã“ã«ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                </div>
            </div>
        </div>

        <button class="btn btn-option" onclick="location.reload()" style="margin-top:30px; border:none; background:#f1f5f9;">æœ€åˆã«æˆ»ã‚‹</button>
    </div>

</div>

<script>
    // â–¼â–¼ è¨­å®šï¼š30å•ä½œæˆã®ãƒ’ãƒ³ãƒˆ â–¼â–¼
    // è»¸: E/I (å¤–å‘/å†…å‘), S/N (æ„Ÿè¦š/ç›´æ„Ÿ), T/F (æ€è€ƒ/æ„Ÿæƒ…), J/P (åˆ¤æ–­/çŸ¥è¦š)
    // questionsé…åˆ—ã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦å•é¡Œã‚’å¢—ã‚„ã—ã¦ãã ã•ã„ã€‚
    
    const questions = [
        // EIè»¸ (Energy)
        { text: "åˆå¯¾é¢ã®äººã¨è©±ã™ã®ã¯å¾—æ„ï¼Ÿ", axis: "EI", options: [{t:"å¾—æ„ã€æ¥½ã—ã„", v:1}, {t:"è‹¦æ‰‹ã€ç–²ã‚Œã‚‹", v:-1}] },
        { text: "é€±æœ«ã¯ã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨ï¼Ÿ", axis: "EI", options: [{t:"ã¿ã‚“ãªã§ãƒ¯ã‚¤ãƒ¯ã‚¤", v:1}, {t:"ä¸€äººã§ã‚†ã£ãã‚Š", v:-1}] },
        { text: "è€ƒãˆäº‹ã¯ï¼Ÿ", axis: "EI", options: [{t:"è©±ã—ãªãŒã‚‰ã¾ã¨ã‚ã‚‹", v:1}, {t:"é ­ã®ä¸­ã§å®Œçµã•ã›ã‚‹", v:-1}] },
        
        // SNè»¸ (Mind)
        { text: "å¤¢ã‚„ç†æƒ³ã‚ˆã‚Šã‚‚ç¾å®Ÿã‚’è¦‹ã‚‹ï¼Ÿ", axis: "SN", options: [{t:"ç¾å®Ÿé‡è¦–", v:1}, {t:"ç†æƒ³é‡è¦–", v:-1}] },
        { text: "èª¬æ˜æ›¸ã¯ï¼Ÿ", axis: "SN", options: [{t:"ã—ã£ã‹ã‚Šèª­ã‚€", v:1}, {t:"é›°å›²æ°—ã§è§¦ã‚‹", v:-1}] },
        { text: "ç´°ã‹ã„ä½œæ¥­ã¯ï¼Ÿ", axis: "SN", options: [{t:"å¾—æ„", v:1}, {t:"å…¨ä½“åƒã‚’è¦‹ãŸã„", v:-1}] },

        // TFè»¸ (Nature)
        { text: "åˆ¤æ–­åŸºæº–ã¯ï¼Ÿ", axis: "TF", options: [{t:"è«–ç†ãƒ»æ­£ã—ã•", v:1}, {t:"æ„Ÿæƒ…ãƒ»æ€ã„ã‚„ã‚Š", v:-1}] },
        { text: "å‹äººã®æ‚©ã¿ã«ã¯ï¼Ÿ", axis: "TF", options: [{t:"è§£æ±ºç­–ã‚’å‡ºã™", v:1}, {t:"å…±æ„Ÿã™ã‚‹", v:-1}] },
        { text: "ç«¶äº‰ã¯ï¼Ÿ", axis: "TF", options: [{t:"å‹ã¤ã“ã¨ãŒå¤§äº‹", v:1}, {t:"å”åŠ›ãŒå¤§äº‹", v:-1}] },

        // JPè»¸ (Tactics)
        { text: "æ—…è¡Œã®è¨ˆç”»ã¯ï¼Ÿ", axis: "JP", options: [{t:"ç¶¿å¯†ã«ç«‹ã¦ã‚‹", v:1}, {t:"è¡Œãå½“ãŸã‚Šã°ã£ãŸã‚Š", v:-1}] },
        { text: "éƒ¨å±‹ã®çŠ¶æ…‹ã¯ï¼Ÿ", axis: "JP", options: [{t:"æ•´ç†ã•ã‚Œã¦ã„ã‚‹", v:1}, {t:"æ•£ã‚‰ã‹ã£ã¦ã„ã‚‹", v:-1}] },
        { text: "æ±ºæ–­ã¯ï¼Ÿ", axis: "JP", options: [{t:"æ—©ã‚ã«æ±ºã‚ã‚‹", v:1}, {t:"ã‚®ãƒªã‚®ãƒªã¾ã§è¿·ã†", v:-1}] },
        
        // â˜…ã“ã“ã«è¿½è¨˜ã—ã¦30å•ã«å¢—ã‚„ã—ã¦ãã ã•ã„â˜…
        // åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ { text: "...", axis: "...", options: [...] }, ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚
    ];

    // â–¼â–¼ çµæœãƒ‡ãƒ¼ã‚¿ï¼ˆç„¡æ–™æ–‡ï¼‹æœ‰æ–™æ–‡ï¼‰ â–¼â–¼
    // æœ¬æ¥ã¯16é€šã‚Šã™ã¹ã¦æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦ã€ŒESTJã€ã¨ã€ŒINFPã€ã®2ã¤ã ã‘è©³ã—ãæ›¸ã„ã¦ã„ã¾ã™ã€‚
    // ä»–ã®ã‚¿ã‚¤ãƒ—ãŒå‡ºãŸã¨ãã®ã‚¨ãƒ©ãƒ¼é¿ã‘ã®ãŸã‚ã€ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã¦ã„ã¾ã™ã€‚
    const resultsData = {
        "ESTJ": {
            name: "å³æ ¼ãªç®¡ç†è€…",
            summary: "ã€ç„¡æ–™çµæœã€‘ã‚ãªãŸã¯è²¬ä»»æ„ŸãŒå¼·ãã€ãƒ«ãƒ¼ãƒ«ã‚’é‡ã‚“ã˜ã‚‹ãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚çµ„ç¹”ã‚’ã¾ã¨ã‚ã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚",
            work: "ã€æœ‰æ–™ã€‘çµŒå–¶è€…ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã€è£åˆ¤å®˜ãªã©ãŒé©è·ã€‚æ˜ç¢ºãªã‚´ãƒ¼ãƒ«ãŒã‚ã‚‹ç’°å¢ƒã§æœ€ã‚‚è¼ãã¾ã™ã€‚",
            love: "ã€æœ‰æ–™ã€‘æ‹æ„›ã§ã‚‚çœŸé¢ç›®ã§èª å®Ÿã€‚ãƒ‡ãƒ¼ãƒˆã®è¨ˆç”»ã‚‚ã—ã£ã‹ã‚Šç«‹ã¦ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ãŒã€ç›¸æ‰‹ã«ã‚‚å®Œç’§ã‚’æ±‚ã‚ã™ãã¦ã—ã¾ã†ã‹ã‚‚ã€‚",
            weak: "ã€æœ‰æ–™ã€‘èé€šãŒåˆ©ã‹ãªã„é ‘å›ºãªä¸€é¢ãŒã‚ã‚Šã¾ã™ã€‚ä»–äººã®æ„Ÿæƒ…ã‚’ç„¡è¦–ã—ã¦è«–ç†ã ã‘ã§è©°ã‚ã‚‹ã¨å­¤ç«‹ã—ã¾ã™ã€‚",
            advice: "ã€æœ‰æ–™ã€‘ãŸã¾ã«ã¯ã€Œç„¡é§„ã€ã‚’æ¥½ã—ã‚“ã§ã¿ã¾ã—ã‚‡ã†ã€‚éƒ¨ä¸‹ã‚„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®è©±ã‚’ã€Œè§£æ±ºã€ã›ãšã«ãŸã ã€Œèãã€æ™‚é–“ã‚’ä½œã‚‹ã¨ä¿¡é ¼ãŒå¢—ã—ã¾ã™ã€‚"
        },
        "INFP": {
            name: "å¤¢è¦‹ã‚‹ä»²ä»‹è€…",
            summary: "ã€ç„¡æ–™çµæœã€‘ã‚ãªãŸã¯è±Šã‹ãªæƒ³åƒåŠ›ã¨å„ªã—ã„å¿ƒã‚’æŒã¤ç†æƒ³ä¸»ç¾©è€…ã€‚è‡ªåˆ†ã ã‘ã®ä¸–ç•Œè¦³ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã¾ã™ã€‚",
            work: "ã€æœ‰æ–™ã€‘ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã€ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã€ä½œå®¶ã€‚è‡ªåˆ†ã®ä¾¡å€¤è¦³ã‚’è¡¨ç¾ã§ãã‚‹ä»•äº‹ã§ãªã„ã¨å¿ƒãŒæ­»ã‚“ã§ã—ã¾ã„ã¾ã™ã€‚",
            love: "ã€æœ‰æ–™ã€‘ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆã§ã€æ·±ã„ç²¾ç¥çš„ãªç¹‹ãŒã‚Šã‚’æ±‚ã‚ã¾ã™ã€‚ä¸€åº¦å¥½ãã«ãªã‚‹ã¨ä¸€é€”ã§ã™ãŒã€ç†æƒ³ãŒé«˜ã™ãã¦ç¾å®Ÿã¨ã®ã‚®ãƒ£ãƒƒãƒ—ã«è‹¦ã—ã‚€ã“ã¨ã‚‚ã€‚",
            weak: "ã€æœ‰æ–™ã€‘æ‰¹åˆ¤ã«å¼±ãã€å‚·ã¤ãã‚„ã™ã„ã§ã™ã€‚å«Œãªã“ã¨ã‹ã‚‰é€ƒé¿ã—ã¦ã—ã¾ã†ç™–ãŒã‚ã‚‹ã®ã§æ³¨æ„ã€‚",
            advice: "ã€æœ‰æ–™ã€‘ã‚ãªãŸã®å„ªã—ã•ã¯æ­¦å™¨ã§ã™ãŒã€æ™‚ã«ã¯ã€ŒNoã€ã¨è¨€ã†å‹‡æ°—ã‚’æŒã¡ã¾ã—ã‚‡ã†ã€‚ç¾å®Ÿçš„ãªç›®æ¨™ã‚’å°ã•ãç«‹ã¦ã¦é”æˆã™ã‚‹ç·´ç¿’ãŒå‰ã€‚"
        },
        // ãƒ€ãƒŸãƒ¼ï¼ˆå®Ÿéš›ã¯å…¨16ã‚¿ã‚¤ãƒ—åˆ†ä½œæˆã—ã¦ãã ã•ã„ï¼‰
        "default": {
            name: "ãã®ä»–ã®ã‚¿ã‚¤ãƒ—",
            summary: "ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ãŸã‚è©³ç´°ãƒ‡ãƒ¼ã‚¿æœªå…¥åŠ›ã§ã™ã€‚",
            work: "æœ‰æ–™ã‚¨ãƒªã‚¢ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚",
            love: "æœ‰æ–™ã‚¨ãƒªã‚¢ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚",
            weak: "æœ‰æ–™ã‚¨ãƒªã‚¢ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚",
            advice: "æœ‰æ–™ã‚¨ãƒªã‚¢ã®ãƒ†ã‚­ã‚¹ãƒˆã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚"
        }
    };

    // --- ãƒ­ã‚¸ãƒƒã‚¯éƒ¨åˆ† ---
    let currentQ = 0;
    let scores = { "EI": 0, "SN": 0, "TF": 0, "JP": 0 };

    // ã‚¯ã‚¤ã‚ºé–‹å§‹
    function startQuiz() {
        document.getElementById('screen-start').classList.remove('active');
        document.getElementById('screen-quiz').classList.add('active');
        document.getElementById('q-total').innerText = questions.length;
        renderQuestion();
    }

    // è³ªå•æç”»
    function renderQuestion() {
        const q = questions[currentQ];
        document.getElementById('q-current').innerText = currentQ + 1;
        document.getElementById('q-text').innerText = q.text;
        
        // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
        const pct = ((currentQ) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = pct + "%";

        const area = document.getElementById('options-area');
        area.innerHTML = "";

        q.options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'btn btn-option';
            btn.innerText = opt.t;
            btn.onclick = () => {
                scores[q.axis] += opt.v;
                currentQ++;
                if (currentQ < questions.length) {
                    renderQuestion();
                } else {
                    showResult();
                }
            };
            area.appendChild(btn);
        });
    }

    // çµæœè¡¨ç¤º
    function showResult() {
        document.getElementById('screen-quiz').classList.remove('active');
        document.getElementById('screen-result').classList.add('active');

        // ã‚¿ã‚¤ãƒ—åˆ¤å®š
        const type = (
            (scores.EI >= 0 ? "E" : "I") +
            (scores.SN >= 0 ? "S" : "N") +
            (scores.TF >= 0 ? "T" : "F") +
            (scores.JP >= 0 ? "J" : "P")
        );

        // ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆãªã‘ã‚Œã°defaultï¼‰
        const data = resultsData[type] || resultsData["default"];

        // ãƒ†ã‚­ã‚¹ãƒˆåŸ‹ã‚è¾¼ã¿
        document.getElementById('res-code').innerText = type;
        document.getElementById('res-name').innerText = data.name;
        document.getElementById('res-summary').innerText = data.summary;
        
        // æœ‰æ–™éƒ¨åˆ†ã®ãƒ†ã‚­ã‚¹ãƒˆã‚‚è£ã§ã‚»ãƒƒãƒˆã—ã¦ãŠã
        document.getElementById('res-work').innerText = data.work;
        document.getElementById('res-love').innerText = data.love;
        document.getElementById('res-weak').innerText = data.weak;
        document.getElementById('res-advice').innerText = data.advice;

        // ãƒãƒ£ãƒ¼ãƒˆæç”»
        drawChart();
    }

    // æœ‰æ–™è§£é™¤ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
    function unlockPremium() {
        if(confirm("ã€é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã€‘\nå®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯ã“ã“ã§æ±ºæ¸ˆç”»é¢ï¼ˆStripeãªã©ï¼‰ã¸é£›ã³ã¾ã™ã€‚\n\nã€ŒOKã€ã‚’æŠ¼ã™ã¨æ±ºæ¸ˆå®Œäº†ã¨ã—ã¦ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ã¾ã™ã€‚")) {
            const section = document.getElementById('premium-section');
            section.classList.remove('locked');
            // ãƒ­ãƒƒã‚¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’æ¶ˆã™
            section.querySelector('.lock-overlay').style.display = 'none';
        }
    }

    // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
    function drawChart() {
        const ctx = document.getElementById('radarChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['å¤–å‘æ€§', 'ç¾å®Ÿæ€§', 'è«–ç†æ€§', 'è¨ˆç”»æ€§'],
                datasets: [{
                    label: 'ãƒãƒ©ãƒ³ã‚¹',
                    data: [scores.EI+5, scores.SN+5, scores.TF+5, scores.JP+5], // è¦‹æ „ãˆèª¿æ•´
                    backgroundColor: 'rgba(37, 99, 235, 0.2)',
                    borderColor: '#2563eb',
                    pointBackgroundColor: '#f59e0b',
                    borderWidth: 2
                }]
            },
            options: {
                scales: {
                    r: {
                        beginAtZero: true,
                        ticks: { display: false },
                        suggestedMax: 10
                    }
                }
            }
        });
    }
</script>

</body>
</html>
