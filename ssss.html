<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚ªãƒªã‚¸ãƒŠãƒ«æ€§æ ¼ã‚¿ã‚¤ãƒ—è¨ºæ–­</title>
    <style>
        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: #eef2f3;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            background-color: white;
            width: 90%;
            max-width: 600px;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
        }
        h1 { color: #4a90e2; margin-bottom: 10px; }
        .subtitle { color: #666; margin-bottom: 30px; font-size: 0.9em; }
        
        .btn {
            display: block;
            width: 100%;
            padding: 16px;
            margin: 12px 0;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background-color: white;
            cursor: pointer;
            transition: 0.2s;
        }
        .btn:hover {
            background-color: #4a90e2;
            color: white;
            border-color: #4a90e2;
        }
        
        /* çµæœç”»é¢ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        #result-area { display: none; }
        .type-badge {
            display: inline-block;
            background-color: #4a90e2;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .result-name { font-size: 32px; font-weight: bold; color: #333; margin: 10px 0 20px; }
        .result-desc { text-align: left; line-height: 1.8; font-size: 16px; background: #f9f9f9; padding: 20px; border-radius: 10px; }
        
        /* é€²è¡Œãƒãƒ¼ */
        #progress-bar { width: 100%; background-color: #eee; height: 5px; margin-bottom: 20px; display: none;}
        #progress-fill { height: 100%; background-color: #4a90e2; width: 0%; transition: 0.3s; }
    </style>
</head>
<body>

    <div class="container">
        <div id="start-screen">
            <h1>ğŸ§­ ã‚ªãƒªã‚¸ãƒŠãƒ«æ°—è³ªè¨ºæ–­</h1>
            <p class="subtitle">2ã¤ã®è»¸ã‹ã‚‰ã‚ãªãŸã®æœ¬è³ªã‚’åˆ†æã—ã¾ã™</p>
            <p>ç›´æ„Ÿã§ç­”ãˆã¦ãã ã•ã„ã€‚</p>
            <button class="btn" onclick="startDiagnosis()" style="background-color: #4a90e2; color: white; border: none;">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
        </div>

        <div id="question-screen" style="display:none;">
            <div id="progress-bar"><div id="progress-fill"></div></div>
            <h2 id="question-text" style="min-height: 60px;">è³ªå•</h2>
            <div id="options"></div>
        </div>

        <div id="result-area">
            <span class="type-badge">ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—</span>
            <div class="result-name" id="result-name">ã‚¿ã‚¤ãƒ—å</div>
            <div class="result-desc" id="result-desc">èª¬æ˜</div>
            <br>
            <button class="btn" onclick="location.reload()">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</button>
        </div>
    </div>

    <script>
        // â–¼ è¨­å®šã‚¨ãƒªã‚¢ï¼šã“ã“ã‚’å¤‰ãˆã¦ã‚ªãƒªã‚¸ãƒŠãƒ«ã«ã™ã‚‹ â–¼
        
        // è»¸ã®è¨­å®šï¼ˆaxisX = ãƒã‚¤ãƒŠã‚¹ãªã‚‰ã€Œæ„Ÿæƒ…ã€ãƒ—ãƒ©ã‚¹ãªã‚‰ã€Œè«–ç†ã€ï¼‰
        // è»¸ã®è¨­å®šï¼ˆaxisY = ãƒã‚¤ãƒŠã‚¹ãªã‚‰ã€Œæ…é‡ã€ãƒ—ãƒ©ã‚¹ãªã‚‰ã€Œè¡Œå‹•ã€ï¼‰

        const questions = [
            // --- è»¸Xï¼ˆè«–ç† vs æ„Ÿæƒ…ï¼‰ã«é–¢ã‚ã‚‹è³ªå• ---
            {
                text: "Q1. æ‚©ã¿äº‹ãŒã‚ã‚‹ã¨ãã¯ï¼Ÿ",
                axis: "x", // Xè»¸ã«å½±éŸ¿
                options: [
                    { text: "è‡ªåˆ†ã®æ°—æŒã¡ã‚’å„ªå…ˆã™ã‚‹", value: -1 }, // æ„Ÿæƒ…å¯„ã‚Š
                    { text: "ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’è€ƒãˆã‚‹", value: 1 }   // è«–ç†å¯„ã‚Š
                ]
            },
            {
                text: "Q2. æ˜ ç”»ã‚’è¦‹ã‚‹ãªã‚‰ï¼Ÿ",
                axis: "x",
                options: [
                    { text: "æ„Ÿå‹•ã—ã¦æ³£ã‘ã‚‹äººé–“ãƒ‰ãƒ©ãƒ", value: -1 },
                    { text: "ä¼ç·šå›åãŒã™ã”ã„ãƒŸã‚¹ãƒ†ãƒªãƒ¼", value: 1 }
                ]
            },
            // --- è»¸Yï¼ˆè¡Œå‹• vs æ…é‡ï¼‰ã«é–¢ã‚ã‚‹è³ªå• ---
            {
                text: "Q3. æ—…è¡Œã®è¨ˆç”»ã¯ï¼Ÿ",
                axis: "y", // Yè»¸ã«å½±éŸ¿
                options: [
                    { text: "è¡Œãå½“ãŸã‚Šã°ã£ãŸã‚Šã§æ¥½ã—ã‚€", value: 1 }, // è¡Œå‹•å¯„ã‚Š
                    { text: "äº‹å‰ã«ã—ã£ã‹ã‚Šãƒªã‚µãƒ¼ãƒã™ã‚‹", value: -1 }  // æ…é‡å¯„ã‚Š
                ]
            },
            {
                text: "Q4. æ–°ã—ã„ã‚¹ãƒãƒ›ãŒå‡ºãŸã‚‰ï¼Ÿ",
                axis: "y",
                options: [
                    { text: "ã™ãã«è²·ã„æ›¿ãˆã‚‹", value: 1 },
                    { text: "å£ã‚³ãƒŸã‚’è¦‹ã¦æ§˜å­ã‚’è¦‹ã‚‹", value: -1 }
                ]
            }
        ];

        // è¨ºæ–­çµæœã®ãƒ‡ãƒ¼ã‚¿ï¼ˆ4ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
        const results = {
            // xãŒãƒ—ãƒ©ã‚¹(è«–ç†)ã€yãŒãƒ—ãƒ©ã‚¹(è¡Œå‹•)
            "pos_pos": {
                name: "ğŸ¦ å¸ä»¤å®˜ã‚¿ã‚¤ãƒ—",
                desc: "ã‚ãªãŸã¯ã€Œè«–ç†çš„ã€ã‹ã¤ã€Œè¡Œå‹•çš„ã€ãªãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ªã€‚ç›®æ¨™ã‚’æ±ºã‚ãŸã‚‰æœ€çŸ­è·é›¢ã§çªãé€²ã‚€åŠ›å¼·ã•ãŒã‚ã‚Šã¾ã™ã€‚è¿·ã£ã¦ã„ã‚‹äººã‚’å¼•ã£å¼µã‚‹ã®ãŒå¾—æ„ã§ã™ã€‚"
            },
            // xãŒãƒ—ãƒ©ã‚¹(è«–ç†)ã€yãŒãƒã‚¤ãƒŠã‚¹(æ…é‡)
            "pos_neg": {
                name: "ğŸ¦‰ åˆ†æå®¶ã‚¿ã‚¤ãƒ—",
                desc: "ã‚ãªãŸã¯ã€Œè«–ç†çš„ã€ã‹ã¤ã€Œæ…é‡ã€ãªå‚è¬€ã‚¿ã‚¤ãƒ—ã€‚ãƒªã‚¹ã‚¯ã‚’è¨ˆç®—ã—ã€ç¢ºå®Ÿãªæ‰‹ã‚’æ‰“ã¤ã®ãŒå¾—æ„ã§ã™ã€‚ãƒãƒ¼ãƒ ã®çŸ¥æµè¢‹ã¨ã—ã¦é‡å®ã•ã‚Œã¾ã™ã€‚"
            },
            // xãŒãƒã‚¤ãƒŠã‚¹(æ„Ÿæƒ…)ã€yãŒãƒ—ãƒ©ã‚¹(è¡Œå‹•)
            "neg_pos": {
                name: "ğŸ¬ ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼ã‚¿ã‚¤ãƒ—",
                desc: "ã‚ãªãŸã¯ã€Œæ„Ÿæƒ…è±Šã‹ã€ã§ã€Œè¡Œå‹•çš„ã€ãªãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‚æ¥½ã—ã„ã“ã¨ãŒå¤§å¥½ãã§ã€å‘¨ã‚Šã®äººã‚’ç¬‘é¡”ã«ã™ã‚‹æ‰èƒ½ãŒã‚ã‚Šã¾ã™ã€‚ç›´æ„Ÿã§å‹•ãã¨å‰ã€‚"
            },
            // xãŒãƒã‚¤ãƒŠã‚¹(æ„Ÿæƒ…)ã€yãŒãƒã‚¤ãƒŠã‚¹(æ…é‡)
            "neg_neg": {
                name: "ğŸ¦Œ ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—",
                desc: "ã‚ãªãŸã¯ã€Œæ„Ÿæƒ…è±Šã‹ã€ã§ã€Œæ…é‡ã€ãªå¹³å’Œä¸»ç¾©è€…ã€‚äººã®æ°—æŒã¡ã«å¯„ã‚Šæ·»ã†å„ªã—ã•ãŒã‚ã‚Šã€äº‰ã„ã”ã¨ã‚’å¥½ã¿ã¾ã›ã‚“ã€‚èãä¸Šæ‰‹ãªç™’ã‚„ã—ç³»ã§ã™ã€‚"
            }
        };

        // â–² è¨­å®šã‚¨ãƒªã‚¢çµ‚äº† â–²

        let currentQuestionIndex = 0;
        let scores = { x: 0, y: 0 }; // ã‚¹ã‚³ã‚¢ç®¡ç†ç”¨

        function startDiagnosis() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('question-screen').style.display = 'block';
            document.getElementById('progress-bar').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentQuestionIndex];
            document.getElementById('question-text').innerText = q.text;
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = "";

            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + "%";

            q.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'btn';
                button.innerText = option.text;
                button.onclick = () => nextQuestion(q.axis, option.value);
                optionsDiv.appendChild(button);
            });
        }

        function nextQuestion(axis, value) {
            // ã‚¹ã‚³ã‚¢ã‚’åŠ ç®—ï¼ˆx ã¾ãŸã¯ y ã«å€¤ã‚’è¶³ã™ï¼‰
            scores[axis] += value;
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('question-screen').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('progress-bar').style.display = 'none';

            // çµæœã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆåº§æ¨™ã§åˆ¤å®šï¼‰
            // xãŒ0ä»¥ä¸Šã®ã¨ãã¯ "pos"ã€æœªæº€ãªã‚‰ "neg"
            const xType = scores.x >= 0 ? "pos" : "neg";
            const yType = scores.y >= 0 ? "pos" : "neg";
            
            // ã‚­ãƒ¼ã‚’ä½œæˆï¼ˆä¾‹: "pos_neg"ï¼‰
            const resultKey = xType + "_" + yType;
            const resultData = results[resultKey];

            document.getElementById('result-name').innerText = resultData.name;
            document.getElementById('result-desc').innerText = resultData.desc;
        }
    </script>
</body>
</html>
