<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Char-Motion | é™æ­¢ç”»ã«å‘½ã‚’å¹ãè¾¼ã‚€</title>
    <style>
        body {
            font-family: sans-serif;
            background: #f0f2f5;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1 { margin-bottom: 10px; color: #444; }
        .subtitle { font-size: 0.9rem; color: #666; margin-bottom: 30px; }

        /* Main Workspace */
        .workspace {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            max-width: 900px;
            width: 100%;
        }

        /* Preview Area */
        .preview-box {
            background: url('https://www.transparenttextures.com/patterns/cubes.png'), #e0e0e0;
            width: 300px;
            height: 300px;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 4px solid white;
            position: relative;
        }

        #target-char {
            max-width: 70%;
            max-height: 70%;
            object-fit: contain;
            /* Default transform origin for better pivots */
            transform-origin: bottom center; 
        }

        /* Control Panel */
        .controls {
            flex: 1;
            background: white;
            padding: 25px;
            border-radius: 15px;
            min-width: 300px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .section-label {
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
            font-size: 0.9rem;
            color: #555;
        }

        /* Upload Button */
        .upload-btn {
            display: block;
            width: 100%;
            padding: 10px;
            border: 2px dashed #bbb;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            margin-bottom: 20px;
            color: #666;
            transition: 0.2s;
        }
        .upload-btn:hover { border-color: #007bff; color: #007bff; background: #f0f8ff; }

        /* Animation Presets (The Product) */
        .preset-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .preset-btn {
            padding: 10px 5px;
            border: 1px solid #ddd;
            background: #f9f9f9;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: 0.2s;
            text-align: center;
        }
        .preset-btn:hover { background: #eee; }
        .preset-btn.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
            box-shadow: 0 2px 5px rgba(0,123,255,0.3);
        }

        /* Speed Control */
        input[type="range"] { width: 100%; margin-bottom: 20px; }

        /* Export Button */
        .export-btn {
            width: 100%;
            padding: 15px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 5px 0 #1e7e34;
            transition: 0.1s;
        }
        .export-btn:active { transform: translateY(4px); box-shadow: none; }

        /* --- CSS Animations (Here is your value) --- */
        /* 1. ã·ã‚‹ã·ã‚‹ (Squish) */
        @keyframes squish {
            0%, 100% { transform: scale(1, 1); }
            50% { transform: scale(1.1, 0.9) translateY(5px); }
        }
        
        /* 2. ã‚†ã‚‰ã‚†ã‚‰ (Sway) */
        @keyframes sway {
            0% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
            100% { transform: rotate(-5deg); }
        }

        /* 3. ã´ã‚‡ã‚“ã´ã‚‡ã‚“ (Jump) */
        @keyframes jump {
            0%, 100% { transform: translateY(0) scale(1, 1); }
            40% { transform: translateY(-30px) scale(0.9, 1.1); }
            60% { transform: translateY(0) scale(1.1, 0.9); }
        }

        /* 4. ã‚¬ã‚¿ã‚¬ã‚¿ (Shake/Fear) */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        /* 5. ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆ (Excited) */
        @keyframes zoom {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

    </style>
</head>
<body>

    <h1>Char-Motion Generator</h1>
    <p class="subtitle">AIã§ä½œã£ãŸã‚­ãƒ£ãƒ©ç”»åƒã‚’ã‚¢ãƒƒãƒ—ã™ã‚‹ã ã‘ã€‚ãƒ—ãƒ­ã®å‹•ãã‚’é©ç”¨ã—ã¾ã™ã€‚</p>

    <div class="workspace">
        <div class="preview-box" id="capture-area">
            <img id="target-char" src="https://cdn-icons-png.flaticon.com/512/3063/3063823.png" alt="Character">
        </div>

        <div class="controls">
            <label class="upload-btn">
                ğŸ“‚ ã‚­ãƒ£ãƒ©ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
                <input type="file" id="file-input" accept="image/*" style="display:none;">
            </label>

            <span class="section-label">å‹•ãã‚’é¸æŠ (Animation Presets)</span>
            <div class="preset-grid">
                <button class="preset-btn active" onclick="setAnim('squish', this)">ã·ã‚‹ã·ã‚‹</button>
                <button class="preset-btn" onclick="setAnim('sway', this)">ã‚†ã‚‰ã‚†ã‚‰</button>
                <button class="preset-btn" onclick="setAnim('jump', this)">ã´ã‚‡ã‚“ã´ã‚‡ã‚“</button>
                <button class="preset-btn" onclick="setAnim('shake', this)">ã‚¬ã‚¿ã‚¬ã‚¿</button>
                <button class="preset-btn" onclick="setAnim('zoom', this)">ã‚ãã‚ã</button>
                <button class="preset-btn" onclick="setAnim('none', this)">åœæ­¢</button>
            </div>

            <span class="section-label">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€Ÿåº¦</span>
            <input type="range" id="speed-range" min="0.1" max="3" step="0.1" value="1">

            <button class="export-btn" onclick="exportGif()">GIFã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰(Î²)</button>
            <p style="font-size:0.7rem; color:#888; text-align:center; margin-top:10px;">
                â€»å®Ÿéš›ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§é«˜ç”»è³ªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã„è²©å£²ã—ã¾ã™
            </p>
        </div>
    </div>

    <script>
        const imgElement = document.getElementById('target-char');
        const fileInput = document.getElementById('file-input');
        const speedRange = document.getElementById('speed-range');
        let currentAnim = 'squish';

        // åˆæœŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨
        imgElement.style.animation = `squish 1s infinite`;

        // ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    imgElement.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
        function setAnim(animName, btn) {
            // ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®æ›´æ–°
            document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            currentAnim = animName;
            updateStyle();
        }

        // é€Ÿåº¦å¤‰æ›´
        speedRange.addEventListener('input', updateStyle);

        function updateStyle() {
            if (currentAnim === 'none') {
                imgElement.style.animation = 'none';
                return;
            }
            // é€Ÿåº¦ã®è¨ˆç®— (Rangeã®å€¤ãŒå¤§ãã„ã»ã©é€Ÿãã™ã‚‹ï¼durationã‚’çŸ­ãã™ã‚‹)
            const speedVal = parseFloat(speedRange.value);
            const duration = 1 / speedVal; 
            
            imgElement.style.animation = 'none'; // ãƒªã‚»ãƒƒãƒˆ
            setTimeout(() => {
                imgElement.style.animation = `${currentAnim} ${duration}s infinite`;
            }, 10);
        }

        function exportGif() {
            alert("ã€ãƒ“ã‚¸ãƒã‚¹ãƒãƒ£ãƒ³ã‚¹ã€‘\nã“ã“ã‹ã‚‰å…ˆã¯æœ‰æ–™ãƒ—ãƒ©ãƒ³ã§ã™ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œè‡ªåˆ†ã®ã‚­ãƒ£ãƒ©ãŒå¯æ„›ãå‹•ã„ãŸï¼ã€ã¨ã„ã†æ„Ÿå‹•ã‚’ã™ã§ã«å‘³ã‚ã£ã¦ã„ã‚‹ã®ã§ã€é«˜ç”»è³ªã®GIFã‚„å‹•ç”»ç´ æã¨ã—ã¦ä¿å­˜ã™ã‚‹ãŸã‚ãªã‚‰300å††ã€œ500å††ã‚’æ”¯æ‰•ã„ã¾ã™ã€‚\n\nã¾ãŸã€Discordç”¨ã‚¹ã‚¿ãƒ³ãƒ—ã‚µã‚¤ã‚ºã¸ã®è‡ªå‹•ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½ãªã©ã‚‚éœ€è¦ãŒã‚ã‚Šã¾ã™ã€‚");
        }
    </script>
</body>
</html>
